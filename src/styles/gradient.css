/* =========================================================
   Gradient Theme System
   ========================================================= */

/* Base defaults */
:root {
  --bg-base: 0 0% 100%;

  /* Glow colors (overridden per theme) */
  --glow-primary: 212 70% 83%;
  --glow-secondary: 220 45% 90%;
  --glow-tertiary: 40 30% 95%;

  /* Glow intensity tuning */
  --glow-strong: 0.9;
  --glow-medium: 0.6;
  --glow-soft: 0.4;
}

/* =========================================================
   Themes
   ========================================================= */

/* Day — sky → cream */
.theme-day {
  --bg-base: 0 0% 100%;
  --glow-primary: 212 70% 83%;
  --glow-secondary: 220 45% 90%;
  --glow-tertiary: 40 30% 95%;
}

/* Dawn — lavender → peach */
.theme-dawn {
  --bg-base: 0 0% 98%;
  --glow-primary: 260 100% 95%;
  --glow-secondary: 20 100% 90%;
  --glow-tertiary: 40 100% 90%;
}

/* Dusk — purple → sunset */
.theme-dusk {
  --bg-base: 260 50% 10%;
  --glow-primary: 260 60% 30%;
  --glow-secondary: 320 80% 60%;
  --glow-tertiary: 30 90% 60%;
}

/* Night — deep navy */
.theme-night,
.dark {
  --bg-base: 248 56% 11%;
  --glow-primary: 248 56% 11%;
  --glow-secondary: 254 47% 32%;
  --glow-tertiary: 248 25% 19%;
}

/* =========================================================
   Base Background
   ========================================================= */

html,
body {
  background-color: hsl(var(--bg-base));
  color-scheme: light dark;
}

/* =========================================================
   Ambient Gradient Layer
   ========================================================= */

.gradient-bg {
  position: fixed;
  inset: -30% 0 0 0;
  z-index: -2;
  pointer-events: none;
  contain: paint;
  will-change: filter;

  background-image:
    radial-gradient(
      1400px 700px at 50% -15%,
      hsl(var(--glow-primary) / var(--glow-strong)) 0%,
      transparent 65%
    ),
    radial-gradient(
      1000px 550px at 0% 0%,
      hsl(var(--glow-secondary) / var(--glow-medium)) 0%,
      transparent 65%
    ),
    radial-gradient(
      1000px 550px at 100% 0%,
      hsl(var(--glow-tertiary) / var(--glow-medium)) 0%,
      transparent 65%
    ),
    radial-gradient(
      800px 400px at 50% 22%,
      hsl(var(--glow-primary) / var(--glow-soft)) 0%,
      transparent 70%
    ),
    linear-gradient(
      hsl(var(--bg-base)),
      hsl(var(--bg-base))
    );

  filter: blur(30px) saturate(120%);

  mask-image: linear-gradient(
    to bottom,
    black 0%,
    black 40%,
    black 65%,
    transparent 100%
  );
}

/* =========================================================
   Noise Layer
   ========================================================= */

.gradient-noise {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;

  opacity: 0.04;
  mix-blend-mode: overlay;

  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 180px 180px;
}

/* =========================================================
   Performance & Accessibility
   ========================================================= */

@media (max-width: 768px), (hover: none) {
  .gradient-bg {
    filter: blur(20px) saturate(110%);
  }
}

@media (prefers-reduced-motion: reduce) {
  .gradient-bg {
    filter: blur(16px) saturate(105%);
  }
}

/* Optional subtle mode */
.has-subtle-bg .gradient-bg {
  filter: blur(20px) saturate(105%);
  mask-image: linear-gradient(
    to bottom,
    black 0%,
    black 30%,
    transparent 90%
  );
}
