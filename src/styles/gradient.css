/* PREMIUM AMBIENT GRADIENT SYSTEM (Multi-Theme)
   --------------------------------------------------------------
   Supported Themes:
   1. Day   (Default) - Crisp Air
   2. Dawn  (Morning) - Golden Hour/Soft Pastel
   3. Dusk  (Evening) - Vaporwave/Sunset
   4. Night (Dark)    - Deep Cosmos
*/

:root {
  /* GLOBAL DEFAULTS */
  --transition-speed: 1.5s;
  --noise-alpha: 0.04;
  
  /* DEFAULT THEME (Day) */
  --gradient-accent-1: 215 95% 85%; /* Crisp Sky Blue */
  --gradient-accent-2: 260 60% 92%; /* Soft Lavender */
  --gradient-accent-3: 35 90% 94%;  /* Sun-kissed Cream */
  --gradient-bg: 0 0% 100%;         /* Pure White */
}

/* --- THEME DEFINITIONS --- */

/* 1. DAY MODE (Explicit Class) */
.theme-day {
  --gradient-accent-1: 215 95% 85%;
  --gradient-accent-2: 260 60% 92%;
  --gradient-accent-3: 35 90% 94%;
  --gradient-bg: 0 0% 100%;
  --noise-alpha: 0.04;
}

/* 2. DAWN MODE (Soft Pinks & Peaches) */
.theme-dawn {
  --gradient-accent-1: 340 85% 90%; /* Soft Rose */
  --gradient-accent-2: 30 90% 88%;  /* Pale Apricot */
  --gradient-accent-3: 200 60% 92%; /* Morning Mist Blue */
  --gradient-bg: 15 30% 98%;        /* Warm White Base */
  --noise-alpha: 0.035;
}

/* 3. DUSK MODE (Vibrant Magentas & Deep Oranges) */
.theme-dusk {
  --gradient-accent-1: 270 60% 25%; /* Twilight Purple */
  --gradient-accent-2: 320 70% 60%; /* Vibrant Pink */
  --gradient-accent-3: 30 90% 55%;  /* Horizon Orange */
  --gradient-bg: 260 40% 12%;       /* Darkening Sky Base */
  --noise-alpha: 0.05;
}

/* 4. NIGHT MODE (Deep Void) */
.theme-night,
.dark {
  --gradient-accent-1: 250 50% 10%; /* Deep Indigo */
  --gradient-accent-2: 290 40% 18%; /* Electric Purple Glow */
  --gradient-accent-3: 190 60% 12%; /* Midnight Cyan */
  --gradient-bg: 240 25% 6%;        /* Void Black Base */
  --noise-alpha: 0.05;
}

/* --- BASE STYLES --- */

html, body {
  background: hsl(var(--gradient-bg));
  /* Super smooth transition when switching themes */
  transition: background-color var(--transition-speed) cubic-bezier(0.2, 0.8, 0.2, 1);
  margin: 0;
  min-height: 100vh;
}

/* --- MAIN GRADIENT CONTAINER --- */

.gradient-bg {
  position: fixed;
  /* Extended bounds for animation movement */
  inset: -50% -50% -50% -50%;
  width: 200%;
  height: 200%;
  z-index: -1;
  pointer-events: none;

  /* Sophisticated Layering */
  background-image: 
    /* Primary Glow (Top Center-ish) */
    radial-gradient(circle at 50% 20%, hsl(var(--gradient-accent-1) / 0.8) 0%, transparent 50%),
    /* Secondary Glow (Top Left) */
    radial-gradient(circle at 10% 10%, hsl(var(--gradient-accent-2) / 0.6) 0%, transparent 40%),
    /* Tertiary Glow (Top Right) */
    radial-gradient(circle at 90% 10%, hsl(var(--gradient-accent-3) / 0.6) 0%, transparent 40%),
    /* Anchor Glow (Bottom Center - adds depth) */
    radial-gradient(circle at 50% 80%, hsl(var(--gradient-accent-1) / 0.4) 0%, transparent 50%),
    /* Base Wash */
    linear-gradient(to bottom, transparent 0%, hsl(var(--gradient-bg)) 100%);

  /* Visual Enhancement */
  filter: blur(60px) saturate(130%);
  transform-origin: center center;
  
  /* The "Breathing" Animation */
  animation: breathe 18s ease-in-out infinite alternate;

  /* Theme Transition for the gradient colors */
  transition: opacity var(--transition-speed) ease;
  
  /* Elegant Fade Out at bottom of viewport */
  -webkit-mask-image: linear-gradient(to bottom, black 0%, black 20%, transparent 90%);
  mask-image: linear-gradient(to bottom, black 0%, black 20%, transparent 90%);
}

/* --- NOISE TEXTURE --- */

.gradient-noise {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  opacity: var(--noise-alpha);
  mix-blend-mode: soft-light; /* Improved blending for all themes */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

/* --- ANIMATIONS & OPTIMIZATIONS --- */

@keyframes breathe {
  0% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-2%) scale(1.05); }
  100% { transform: translateY(0) scale(1); }
}

/* Mobile: Reduce load */
@media (max-width: 768px) {
  .gradient-bg {
    filter: blur(30px) saturate(120%);
    animation: none;
  }
}

/* Reduced Motion Preference */
@media (prefers-reduced-motion: reduce) {
  .gradient-bg {
    animation: none;
  }
}

/* Optional: Subdued variation */
.has-subtle-bg .gradient-bg {
  filter: blur(40px) saturate(110%);
  opacity: 0.6;
}
