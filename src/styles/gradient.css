/* =========================================
   Premium Gradient System with Smooth Transitions
   ========================================= */

/* 1. Register properties to allow smooth interpolation */
@property --c-accent {
  syntax: '<color>';
  inherits: true;
  initial-value: #000000;
}

@property --c-accent-2 {
  syntax: '<color>';
  inherits: true;
  initial-value: #000000;
}

@property --c-accent-3 {
  syntax: '<color>';
  inherits: true;
  initial-value: #000000;
}

@property --c-bg {
  syntax: '<color>';
  inherits: true;
  initial-value: #000000;
}

:root {
  /* Default Day Theme */
  --c-accent: hsl(212, 100%, 85%);
  /* Luminous Sky Blue */
  --c-accent-2: hsl(220, 60%, 92%);
  /* Soft Cloud Blue */
  --c-accent-3: hsl(35, 80%, 94%);
  /* Warm Sunlight */
  --c-bg: hsl(0, 0%, 100%);
  /* Pure White */
}

/* Day Mode */
.theme-day {
  --c-accent: hsl(212, 100%, 85%);
  --c-accent-2: hsl(220, 60%, 92%);
  --c-accent-3: hsl(35, 80%, 94%);
  --c-bg: hsl(0, 0%, 100%);
}

/* Dawn Mode - Etherial Morning */
.theme-dawn {
  --c-accent: hsl(265, 80%, 92%);
  /* Morning Mist Lavender */
  --c-accent-2: hsl(15, 90%, 94%);
  /* First Light Peach */
  --c-accent-3: hsl(45, 90%, 90%);
  /* Golden Hour Cream */
  --c-bg: hsl(260, 20%, 98%);
}

/* Dusk Mode - Vibrant Sunset */
.theme-dusk {
  --c-accent: hsl(260, 40%, 40%);
  /* Twlight Purple */
  --c-accent-2: hsl(330, 60%, 65%);
  /* Afterglow Pink */
  --c-accent-3: hsl(25, 80%, 65%);
  /* Horizon Orange */
  --c-bg: hsl(265, 30%, 15%);
}

/* Night Mode - Deep Cosmos */
.theme-night,
.dark {
  --c-accent: hsl(245, 45%, 15%);
  /* Deep Space Navy */
  --c-accent-2: hsl(252, 40%, 25%);
  /* Nebula Purple */
  --c-accent-3: hsl(245, 30%, 20%);
  /* Galactic Blue */
  --c-bg: hsl(240, 30%, 8%);
}

/* Base styles */
html,
body {
  background: var(--c-bg);
  /* Use transition for the background color specifically */
  transition: background-color 3s ease-in-out;
}

/* The Gradient Mesh */
.gradient-bg {
  position: fixed;
  inset: -40% -40%;
  /* Oversize to allow movement without edges */
  z-index: -1;
  pointer-events: none;

  /* Transition the custom properties for smooth color morphing */
  transition: --c-accent 3s ease-in-out,
    --c-accent-2 3s ease-in-out,
    --c-accent-3 3s ease-in-out,
    --c-bg 3s ease-in-out;

  /* Complex layered gradients using the color variables directly */
  background-image:
    /* Top Center: Primary Glow */
    radial-gradient(circle at 50% 20%, color-mix(in srgb, var(--c-accent), transparent 10%) 0%, transparent 60%),

    /* Top Left: Secondary subtle wash */
    radial-gradient(circle at 10% 10%, color-mix(in srgb, var(--c-accent-2), transparent 40%) 0%, transparent 50%),

    /* Top Right: Accent Warmth */
    radial-gradient(circle at 90% 10%, color-mix(in srgb, var(--c-accent-3), transparent 40%) 0%, transparent 50%),

    /* Center/Bottom: Deep anchor */
    radial-gradient(circle at 50% 80%, color-mix(in srgb, var(--c-accent), transparent 60%) 0%, transparent 50%);

  /* Heavy blur for the "aurora" effect */
  filter: blur(80px) saturate(120%);

  /* Subtle breathing animation */
  animation: aurora-flow 20s ease-in-out infinite alternate;

  /* Smoother fade at bottom */
  -webkit-mask-image: linear-gradient(to bottom, black 0%, black 50%, transparent 100%);
  mask-image: linear-gradient(to bottom, black 0%, black 50%, transparent 100%);

  /* Hardware acceleration */
  transform: translateZ(0);
}

@keyframes aurora-flow {
  0% {
    transform: scale(1) translate(0, 0);
  }

  100% {
    transform: scale(1.05) translate(0, -2%);
  }
}

/* Noise Texture - Refined */
.gradient-noise {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  opacity: 0.03;
  /* Very subtle */
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
}

/* Reduced Motion & Low Power Mode */
@media (max-width: 768px),
(prefers-reduced-motion: reduce) {
  .gradient-bg {
    animation: none;
    inset: -10%;
    /* Smaller overdraw */
    filter: blur(40px) saturate(110%);
  }
}

/* Subtle mode adjustment */
.has-subtle-bg .gradient-bg {
  opacity: 0.5;
  filter: blur(60px);
}